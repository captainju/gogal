<!DOCTYPE html>
<html lang="fr" ng-app="Album">
<head>
    <meta charset="UTF-8">
    <script src="static/dateformat.min.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script data-require="angular.js@1.3.0-beta.16" data-semver="1.3.0-beta.16"
            src="https://code.angularjs.org/1.3.0-beta.16/angular.min.js"></script>
    <script data-require="underscore.js@*" data-semver="1.6.0"
            src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="static/style.css"/>
    <script src="static/script.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="/static/favicon.ico">
    <title>Galerie</title>
</head>
<body>

<!-- Modal -->
<div class="modal fade" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">Image preview</h4>
            </div>
            <div class="modal-body">
                <img src="" id="imagepreview">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div ng-controller="AlbumCtrl">
    <div class="allAlbums">
        <div class="album" ng-repeat='album in loadedAlbums'>
            <div class="title">{{getAlbumTitle(album)}}</div>
            <ul class="images">
                <li ng-repeat='image in images[album]'>
                    <img id="{{image.Filename}}" data-mediumurl="{{image.MediumUrl}}" data-filename="{{image.Filename}}" ng-src="{{image.ThumbUrl}}">
                </li>
            </ul>
        </div>
    </div>
    <div class="footer">
        <button id="loadMoreAlbums" class="btn loadMoreAlbums" href="#" ng-class="{'test': loadingStatus}"
                ng-click="loadMoreAlbums()">{{loadingStatus ? "Chargement..." : "Voir plus"}}
        </button>
    </div>
</div>

</body>
</html>
